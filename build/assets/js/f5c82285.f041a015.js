"use strict";(self.webpackChunkremix_docs=self.webpackChunkremix_docs||[]).push([[8280],{5164:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>i});var o=t(4848),s=t(8453);const r={title:"unstable_usePrompt"},a="unstable_usePrompt",c={id:"hooks/use-prompt",title:"unstable_usePrompt",description:"unstable_usePrompt \u94a9\u5b50\u5141\u8bb8\u60a8\u5728\u79bb\u5f00\u5f53\u524d\u9875\u9762\u4e4b\u524d\u901a\u8fc7 window.confirm \u63d0\u793a\u7528\u6237\u786e\u8ba4\u3002",source:"@site/docs/hooks/use-prompt.md",sourceDirName:"hooks",slug:"/hooks/use-prompt",permalink:"/docs/hooks/use-prompt",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/hooks/use-prompt.md",tags:[],version:"current",frontMatter:{title:"unstable_usePrompt"},sidebar:"tutorialSidebar",previous:{title:"useParams",permalink:"/docs/hooks/use-params"},next:{title:"useResolvedPath",permalink:"/docs/hooks/use-resolved-path"}},u={},i=[];function d(e){const n={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"unstable_useprompt",children:(0,o.jsx)(n.code,{children:"unstable_usePrompt"})})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"unstable_usePrompt"})," \u94a9\u5b50\u5141\u8bb8\u60a8\u5728\u79bb\u5f00\u5f53\u524d\u9875\u9762\u4e4b\u524d\u901a\u8fc7 ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/confirm",children:(0,o.jsx)(n.code,{children:"window.confirm"})})," \u63d0\u793a\u7528\u6237\u786e\u8ba4\u3002"]}),"\n",(0,o.jsx)("docs-info",{children:(0,o.jsxs)(n.p,{children:["\u8fd9\u4ec5\u9002\u7528\u4e8e\u60a8 React Router \u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5ba2\u6237\u7aef\u5bfc\u822a\uff0c\u5e76\u4e0d\u4f1a\u963b\u6b62\u6587\u6863\u8bf7\u6c42\u3002\u8981\u9632\u6b62\u6587\u6863\u5bfc\u822a\uff0c\u60a8\u9700\u8981\u6dfb\u52a0\u81ea\u5df1\u7684 ",(0,o.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event",target:"_blank",children:(0,o.jsx)(n.code,{children:"beforeunload"})})," \u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u3002"]})}),"\n",(0,o.jsx)("docs-warning",{children:(0,o.jsxs)(n.p,{children:["\u963b\u6b62\u7528\u6237\u5bfc\u822a\u6709\u70b9\u53cd\u6a21\u5f0f\uff0c\u56e0\u6b64\u8bf7\u4ed4\u7ec6\u8003\u8651\u6b64\u94a9\u5b50\u7684\u4efb\u4f55\u4f7f\u7528\uff0c\u5e76\u8c28\u614e\u4f7f\u7528\u3002\u5728\u9632\u6b62\u7528\u6237\u79bb\u5f00\u672a\u586b\u5199\u5b8c\u6574\u7684\u8868\u5355\u7684\u5178\u578b\u7528\u4f8b\u4e2d\uff0c\u60a8\u53ef\u4ee5\u8003\u8651\u5c06\u672a\u4fdd\u5b58\u7684\u72b6\u6001\u6301\u4e45\u5316\u5230 ",(0,o.jsx)(n.code,{children:"sessionStorage"}),"\uff0c\u5e76\u5728\u4ed6\u4eec\u8fd4\u56de\u65f6\u81ea\u52a8\u91cd\u65b0\u586b\u5199\uff0c\u800c\u4e0d\u662f\u963b\u6b62\u4ed6\u4eec\u79bb\u5f00\u3002"]})}),"\n",(0,o.jsx)("docs-warning",{children:(0,o.jsxs)(n.p,{children:["\u6211\u4eec\u4e0d\u6253\u7b97\u4ece\u6b64\u94a9\u5b50\u4e2d\u79fb\u9664 ",(0,o.jsx)(n.code,{children:"unstable_"})," \u524d\u7f00\uff0c\u56e0\u4e3a\u5728\u63d0\u793a\u6253\u5f00\u65f6\uff0c\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\u662f\u975e\u786e\u5b9a\u6027\u7684\uff0c\u56e0\u6b64 React Router \u65e0\u6cd5\u4fdd\u8bc1\u5728\u6240\u6709\u573a\u666f\u4e0b\u7684\u6b63\u786e\u884c\u4e3a\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u975e\u786e\u5b9a\u6027\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"useBlocker"}),"\uff0c\u5b83\u4e5f\u8ba9\u60a8\u63a7\u5236\u786e\u8ba4\u7528\u6237\u4f53\u9a8c\u3002"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'function ImportantForm() {\n  const [value, setValue] = React.useState("");\n\n  // Block navigating elsewhere when data has been entered into the input\n  unstable_usePrompt({\n    message: "Are you sure?",\n    when: ({ currentLocation, nextLocation }) =>\n      value !== "" &&\n      currentLocation.pathname !== nextLocation.pathname,\n  });\n\n  return (\n    <Form method="post">\n      <label>\n        Enter some important data:\n        <input\n          name="data"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      </label>\n      <button type="submit">Save</button>\n    </Form>\n  );\n}\n'})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var o=t(6540);const s={},r=o.createContext(s);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);