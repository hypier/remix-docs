"use strict";(self.webpackChunkremix_docs=self.webpackChunkremix_docs||[]).push([[6743],{616:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var t=r(4848),s=r(8453);const i={title:"\u5f85\u5904\u7406 UI",position:8},c="\u5f85\u5904\u7406\u548c\u4e50\u89c2\u7528\u6237\u754c\u9762",o={id:"discussion/pending-ui",title:"\u5f85\u5904\u7406 UI",description:"\u4f18\u79c0\u7684\u7f51\u9875\u7528\u6237\u4f53\u9a8c\u4e0e\u5e73\u5eb8\u4f53\u9a8c\u4e4b\u95f4\u7684\u5dee\u5f02\u5728\u4e8e\u5f00\u53d1\u8005\u5982\u4f55\u5b9e\u73b0\u7f51\u7edc\u611f\u77e5\u7684\u7528\u6237\u754c\u9762\u53cd\u9988\uff0c\u901a\u8fc7\u5728\u7f51\u7edc\u5bc6\u96c6\u578b\u64cd\u4f5c\u671f\u95f4\u63d0\u4f9b\u89c6\u89c9\u63d0\u793a\u3002\u5f85\u5904\u7406\u7528\u6237\u754c\u9762\u4e3b\u8981\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\u5fd9\u788c\u6307\u793a\u5668\u3001\u4e50\u89c2\u7528\u6237\u754c\u9762\u548c\u9aa8\u67b6\u5360\u4f4d\u7b26\u3002\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u6839\u636e\u7279\u5b9a\u573a\u666f\u9009\u62e9\u548c\u5b9e\u65bd\u9002\u5f53\u53cd\u9988\u673a\u5236\u7684\u6307\u5bfc\u65b9\u9488\u3002",source:"@site/docs/discussion/pending-ui.md",sourceDirName:"discussion",slug:"/discussion/pending-ui",permalink:"/docs/discussion/pending-ui",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/discussion/pending-ui.md",tags:[],version:"current",frontMatter:{title:"\u5f85\u5904\u7406 UI",position:8},sidebar:"tutorialSidebar",previous:{title:"\u5e03\u5c40\u4e0e\u5d4c\u5957\u8def\u7531",permalink:"/docs/discussion/nested-routes"},next:{title:"\u6e10\u8fdb\u589e\u5f3a",permalink:"/docs/discussion/progressive-enhancement"}},a={},d=[{value:"\u5f85\u5904\u7406\u7684 UI \u53cd\u9988\u673a\u5236",id:"\u5f85\u5904\u7406\u7684-ui-\u53cd\u9988\u673a\u5236",level:2},{value:"\u53cd\u9988\u9009\u62e9\u7684\u6307\u5bfc\u539f\u5219",id:"\u53cd\u9988\u9009\u62e9\u7684\u6307\u5bfc\u539f\u5219",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u9875\u9762\u5bfc\u822a",id:"\u9875\u9762\u5bfc\u822a",level:3},{value:"\u5f85\u5904\u7406\u94fe\u63a5",id:"\u5f85\u5904\u7406\u94fe\u63a5",level:3},{value:"\u8bb0\u5f55\u521b\u5efa",id:"\u8bb0\u5f55\u521b\u5efa",level:3},{value:"\u8bb0\u5f55\u66f4\u65b0",id:"\u8bb0\u5f55\u66f4\u65b0",level:3},{value:"\u5ef6\u8fdf\u6570\u636e\u52a0\u8f7d",id:"\u5ef6\u8fdf\u6570\u636e\u52a0\u8f7d",level:2},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba",level:2}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u5f85\u5904\u7406\u548c\u4e50\u89c2\u7528\u6237\u754c\u9762",children:"\u5f85\u5904\u7406\u548c\u4e50\u89c2\u7528\u6237\u754c\u9762"})}),"\n",(0,t.jsx)(e.p,{children:"\u4f18\u79c0\u7684\u7f51\u9875\u7528\u6237\u4f53\u9a8c\u4e0e\u5e73\u5eb8\u4f53\u9a8c\u4e4b\u95f4\u7684\u5dee\u5f02\u5728\u4e8e\u5f00\u53d1\u8005\u5982\u4f55\u5b9e\u73b0\u7f51\u7edc\u611f\u77e5\u7684\u7528\u6237\u754c\u9762\u53cd\u9988\uff0c\u901a\u8fc7\u5728\u7f51\u7edc\u5bc6\u96c6\u578b\u64cd\u4f5c\u671f\u95f4\u63d0\u4f9b\u89c6\u89c9\u63d0\u793a\u3002\u5f85\u5904\u7406\u7528\u6237\u754c\u9762\u4e3b\u8981\u6709\u4e09\u79cd\u7c7b\u578b\uff1a\u5fd9\u788c\u6307\u793a\u5668\u3001\u4e50\u89c2\u7528\u6237\u754c\u9762\u548c\u9aa8\u67b6\u5360\u4f4d\u7b26\u3002\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u6839\u636e\u7279\u5b9a\u573a\u666f\u9009\u62e9\u548c\u5b9e\u65bd\u9002\u5f53\u53cd\u9988\u673a\u5236\u7684\u6307\u5bfc\u65b9\u9488\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u5f85\u5904\u7406\u7684-ui-\u53cd\u9988\u673a\u5236",children:"\u5f85\u5904\u7406\u7684 UI \u53cd\u9988\u673a\u5236"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5fd9\u788c\u6307\u793a\u5668"}),"\uff1a\u5fd9\u788c\u6307\u793a\u5668\u5728\u670d\u52a1\u5668\u5904\u7406\u64cd\u4f5c\u65f6\u5411\u7528\u6237\u663e\u793a\u89c6\u89c9\u63d0\u793a\u3002\u5f53\u5e94\u7528\u7a0b\u5e8f\u65e0\u6cd5\u9884\u6d4b\u64cd\u4f5c\u7684\u7ed3\u679c\u5e76\u4e14\u5fc5\u987b\u7b49\u5f85\u670d\u52a1\u5668\u7684\u54cd\u5e94\u624d\u80fd\u66f4\u65b0 UI \u65f6\uff0c\u4f7f\u7528\u6b64\u53cd\u9988\u673a\u5236\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u4e50\u89c2 UI"}),"\uff1a\u4e50\u89c2 UI \u901a\u8fc7\u5728\u6536\u5230\u670d\u52a1\u5668\u54cd\u5e94\u4e4b\u524d\u7acb\u5373\u7528\u9884\u671f\u72b6\u6001\u66f4\u65b0 UI \u6765\u589e\u5f3a\u611f\u77e5\u901f\u5ea6\u548c\u54cd\u5e94\u6027\u3002\u5f53\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u6839\u636e\u4e0a\u4e0b\u6587\u548c\u7528\u6237\u8f93\u5165\u9884\u6d4b\u64cd\u4f5c\u7684\u7ed3\u679c\u65f6\uff0c\u4f7f\u7528\u6b64\u65b9\u6cd5\uff0c\u4ece\u800c\u5141\u8bb8\u5bf9\u64cd\u4f5c\u505a\u51fa\u5373\u65f6\u54cd\u5e94\u3002"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u9aa8\u67b6\u5360\u4f4d\u7b26"}),"\uff1a\u9aa8\u67b6\u5360\u4f4d\u7b26\u5728 UI \u521d\u59cb\u52a0\u8f7d\u65f6\u4f7f\u7528\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u4e00\u4e2a\u89c6\u89c9\u5360\u4f4d\u7b26\uff0c\u52fe\u52d2\u51fa\u5373\u5c06\u5230\u6765\u7684\u5185\u5bb9\u7684\u7ed3\u6784\u3002\u6b64\u53cd\u9988\u673a\u5236\u7279\u522b\u6709\u7528\uff0c\u53ef\u4ee5\u5c3d\u5feb\u6e32\u67d3\u51fa\u4e00\u4e9b\u6709\u7528\u7684\u5185\u5bb9\u3002"]}),"\n",(0,t.jsx)(e.h2,{id:"\u53cd\u9988\u9009\u62e9\u7684\u6307\u5bfc\u539f\u5219",children:"\u53cd\u9988\u9009\u62e9\u7684\u6307\u5bfc\u539f\u5219"}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u4e50\u89c2UI\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u4e0b\u4e00\u4e2a\u72b6\u6001\u7684\u53ef\u9884\u6d4b\u6027"}),"\uff1a\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\u51c6\u786e\u9884\u6d4bUI\u7684\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u9519\u8bef\u5904\u7406"}),"\uff1a\u6709\u5065\u58ee\u7684\u9519\u8bef\u5904\u7406\u673a\u5236\u6765\u5e94\u5bf9\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u53d1\u751f\u7684\u9519\u8bef\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"URL\u7a33\u5b9a\u6027"}),"\uff1a\u8be5\u64cd\u4f5c\u4e0d\u4f1a\u5bfc\u81f4URL\u7684\u53d8\u5316\uff0c\u786e\u4fdd\u7528\u6237\u4fdd\u6301\u5728\u540c\u4e00\u9875\u9762\u5185\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u5fd9\u788c\u6307\u793a\u5668\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u4e0b\u4e00\u4e2a\u72b6\u6001\u7684\u4e0d\u786e\u5b9a\u6027"}),"\uff1a\u8be5\u64cd\u4f5c\u7684\u7ed3\u679c\u65e0\u6cd5\u53ef\u9760\u9884\u6d4b\uff0c\u9700\u8981\u7b49\u5f85\u670d\u52a1\u5668\u7684\u54cd\u5e94\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"URL\u53d8\u5316"}),"\uff1a\u8be5\u64cd\u4f5c\u5bfc\u81f4URL\u7684\u53d8\u5316\uff0c\u8868\u793a\u5bfc\u822a\u5230\u65b0\u9875\u9762\u6216\u65b0\u90e8\u5206\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u9519\u8bef\u8fb9\u754c"}),"\uff1a\u9519\u8bef\u5904\u7406\u65b9\u6cd5\u4e3b\u8981\u4f9d\u8d56\u4e8e\u9519\u8bef\u8fb9\u754c\u6765\u7ba1\u7406\u5f02\u5e38\u548c\u610f\u5916\u884c\u4e3a\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u526f\u4f5c\u7528"}),"\uff1a\u8be5\u64cd\u4f5c\u89e6\u53d1\u526f\u4f5c\u7528\uff0c\u6d89\u53ca\u5173\u952e\u8fc7\u7a0b\uff0c\u4f8b\u5982\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u3001\u5904\u7406\u652f\u4ed8\u7b49\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u4f7f\u7528\u9aa8\u67b6\u56de\u9000\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u521d\u59cb\u52a0\u8f7d"}),"\uff1aUI\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u5373\u5c06\u5230\u6765\u7684\u5185\u5bb9\u7ed3\u6784\u7684\u89c6\u89c9\u6307\u793a\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5173\u952e\u6570\u636e"}),"\uff1a\u8be5\u6570\u636e\u5bf9\u9875\u9762\u7684\u521d\u59cb\u6e32\u67d3\u5e76\u4e0d\u5173\u952e\uff0c\u5141\u8bb8\u5728\u6570\u636e\u52a0\u8f7d\u65f6\u663e\u793a\u9aa8\u67b6\u56de\u9000\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5e94\u7528\u7a0b\u5e8f\u822c\u7684\u4f53\u9a8c"}),"\uff1a\u8be5\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u6210\u7c7b\u4f3c\u72ec\u7acb\u5e94\u7528\u7684\u884c\u4e3a\uff0c\u5141\u8bb8\u7acb\u5373\u8fc7\u6e21\u5230\u56de\u9000\u72b6\u6001\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,t.jsx)(e.h3,{id:"\u9875\u9762\u5bfc\u822a",children:"\u9875\u9762\u5bfc\u822a"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5fd9\u788c\u6307\u793a\u5668"}),"\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.a,{href:"../hooks/use-navigation",children:(0,t.jsx)(e.code,{children:"useNavigation"})})," \u6307\u793a\u7528\u6237\u6b63\u5728\u5bfc\u822a\u5230\u65b0\u9875\u9762\uff1a"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:'import { useNavigation } from "@remix-run/react";\n\nfunction PendingNavigation() {\n  const navigation = useNavigation();\n  return navigation.state === "loading" ? (\n    <div className="spinner" />\n  ) : null;\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5f85\u5904\u7406\u94fe\u63a5",children:"\u5f85\u5904\u7406\u94fe\u63a5"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5fd9\u788c\u6307\u793a\u5668"}),"\uff1a\u60a8\u53ef\u4ee5\u5728\u5bfc\u822a\u94fe\u63a5\u4e0a\u6307\u793a\u7528\u6237\u6b63\u5728\u5bfc\u822a\u5230\u5b83\uff0c\u4f7f\u7528 ",(0,t.jsx)(e.a,{href:"../components/nav-link#classname-callback",children:(0,t.jsx)(e.code,{children:"<NavLink className>"})})," \u56de\u8c03\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"lines=[10-12]",children:'import { NavLink } from "@remix-run/react";\n\nexport function ProjectList({ projects }) {\n  return (\n    <nav>\n      {projects.map((project) => (\n        <NavLink\n          key={project.id}\n          to={project.id}\n          className={({ isPending }) =>\n            isPending ? "pending" : null\n          }\n        >\n          {project.name}\n        </NavLink>\n      ))}\n    </nav>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6216\u8005\u901a\u8fc7\u68c0\u67e5\u53c2\u6570\u5728\u65c1\u8fb9\u6dfb\u52a0\u4e00\u4e2a\u65cb\u8f6c\u5668\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"lines=[1,4,10-12]",children:'import { useParams } from "@remix-run/react";\n\nexport function ProjectList({ projects }) {\n  const params = useParams();\n  return (\n    <nav>\n      {projects.map((project) => (\n        <NavLink key={project.id} to={project.id}>\n          {project.name}\n          {params.projectId === project.id ? (\n            <Spinner />\n          ) : null}\n        </NavLink>\n      ))}\n    </nav>\n  );\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u867d\u7136\u94fe\u63a5\u4e0a\u7684\u672c\u5730\u5316\u6307\u793a\u5668\u5f88\u597d\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u5b8c\u6574\u3002\u89e6\u53d1\u5bfc\u822a\u7684\u65b9\u5f0f\u8fd8\u6709\u5f88\u591a\uff1a\u8868\u5355\u63d0\u4ea4\u3001\u6d4f\u89c8\u5668\u4e2d\u7684\u524d\u8fdb\u548c\u540e\u9000\u6309\u94ae\u70b9\u51fb\u3001\u64cd\u4f5c\u91cd\u5b9a\u5411\uff0c\u4ee5\u53ca\u547d\u4ee4\u5f0f\u7684 ",(0,t.jsx)(e.code,{children:"navigate(path)"})," \u8c03\u7528\uff0c\u56e0\u6b64\u60a8\u901a\u5e38\u5e0c\u671b\u6709\u4e00\u4e2a\u5168\u5c40\u6307\u793a\u5668\u6765\u6355\u6349\u6240\u6709\u5185\u5bb9\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"\u8bb0\u5f55\u521b\u5efa",children:"\u8bb0\u5f55\u521b\u5efa"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u5fd9\u788c\u6307\u793a\u5668"}),"\uff1a\u901a\u5e38\u6700\u597d\u7b49\u5f85\u8bb0\u5f55\u521b\u5efa\u5b8c\u6210\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u4e50\u89c2\u7528\u6237\u754c\u9762\uff0c\u56e0\u4e3a\u5728\u5b8c\u6210\u4e4b\u524d\uff0cID\u548c\u5176\u4ed6\u5b57\u6bb5\u662f\u672a\u77e5\u7684\u3002\u8fd8\u8981\u6ce8\u610f\uff0c\u6b64\u64cd\u4f5c\u4f1a\u4ece\u8be5\u64cd\u4f5c\u91cd\u5b9a\u5411\u5230\u65b0\u8bb0\u5f55\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"filename=app/routes/create-project.tsx lines=[2,13,21-22,26,35]",children:'import type { ActionFunctionArgs } from "@remix-run/node"; // or cloudflare/deno\nimport { redirect } from "@remix-run/node"; // or cloudflare/deno\nimport { useNavigation } from "@remix-run/react";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const project = await createRecord({\n    name: formData.get("name"),\n    owner: formData.get("owner"),\n  });\n  return redirect(`/projects/${project.id}`);\n}\n\nexport default function CreateProject() {\n  const navigation = useNavigation();\n\n  // important to check you\'re submitting to the action\n  // for the pending UI, not just any action\n  const isSubmitting =\n    navigation.formAction === "/create-project";\n\n  return (\n    <Form method="post" action="/create-project">\n      <fieldset disabled={isSubmitting}>\n        <label>\n          Name: <input type="text" name="projectName" />\n        </label>\n        <label>\n          Owner: <UserSelect />\n        </label>\n        <button type="submit">Create</button>\n      </fieldset>\n      {isSubmitting ? <BusyIndicator /> : null}\n    </Form>\n  );\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.a,{href:"../hooks/use-fetcher",children:(0,t.jsx)(e.code,{children:"useFetcher"})})," \u505a\u540c\u6837\u7684\u4e8b\u60c5\uff0c\u5982\u679c\u60a8\u4e0d\u66f4\u6539URL\uff08\u4e5f\u8bb8\u662f\u5c06\u8bb0\u5f55\u6dfb\u52a0\u5230\u5217\u8868\u4e2d\uff09"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"lines=[5]",children:'import { useFetcher } from "@remix-run/react";\n\nfunction CreateProject() {\n  const fetcher = useFetcher();\n  const isSubmitting = fetcher.state === "submitting";\n\n  return (\n    <fetcher.Form method="post" action="/create-project">\n      {/* ... */}\n    </fetcher.Form>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u8bb0\u5f55\u66f4\u65b0",children:"\u8bb0\u5f55\u66f4\u65b0"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u4e50\u89c2 UI"}),"\uff1a\u5f53 UI \u4ec5\u4ec5\u66f4\u65b0\u8bb0\u5f55\u4e2d\u7684\u4e00\u4e2a\u5b57\u6bb5\u65f6\uff0c\u4e50\u89c2 UI \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u5728 web \u5e94\u7528\u4e2d\uff0c\u8bb8\u591a\u7528\u6237\u4ea4\u4e92\uff08\u5982\u679c\u4e0d\u662f\u5927\u591a\u6570\u7684\u8bdd\uff09\u5f80\u5f80\u662f\u66f4\u65b0\uff0c\u56e0\u6b64\u8fd9\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u6a21\u5f0f\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"lines=[6-8,19,22]",children:'import { useFetcher } from "@remix-run/react";\n\nfunction ProjectListItem({ project }) {\n  const fetcher = useFetcher();\n\n  const starred = fetcher.formData\n    ? // use optimistic value if submitting\n      fetcher.formData.get("starred") === "1"\n    : // fall back to the database state\n      project.starred;\n\n  return (\n    <>\n      <div>{project.name}</div>\n      <fetcher.Form method="post">\n        <button\n          type="submit"\n          name="starred"\n          // use optimistic value to allow interruptions\n          value={starred ? "0" : "1"}\n        >\n          {/* \ud83d\udc47 display optimistic value */}\n          {starred ? "\u2605" : "\u2606"}\n        </button>\n      </fetcher.Form>\n    </>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u5ef6\u8fdf\u6570\u636e\u52a0\u8f7d",children:"\u5ef6\u8fdf\u6570\u636e\u52a0\u8f7d"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\u9aa8\u67b6\u5360\u4f4d\u7b26"}),"\uff1a\u5f53\u6570\u636e\u88ab\u5ef6\u8fdf\u52a0\u8f7d\u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(e.a,{href:"https://react.dev/reference/react/Suspense",children:(0,t.jsx)(e.code,{children:"<Suspense>"})})," \u6dfb\u52a0\u5360\u4f4d\u7b26\u3002\u8fd9\u5141\u8bb8\u7528\u6237\u754c\u9762\u5728\u7b49\u5f85\u6570\u636e\u52a0\u8f7d\u65f6\u6e32\u67d3\uff0c\u4ece\u800c\u52a0\u5feb\u5e94\u7528\u7a0b\u5e8f\u7684\u611f\u77e5\u548c\u5b9e\u9645\u6027\u80fd\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",metastring:"lines=[11-14,24-28]",children:'import type { LoaderFunctionArgs } from "@remix-run/node"; // or cloudflare/deno\nimport { defer } from "@remix-run/node"; // or cloudflare/deno\nimport { Await } from "@remix-run/react";\nimport { Suspense } from "react";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const reviewsPromise = getReviews(params.productId);\n  const product = await getProduct(params.productId);\n  return defer({\n    product: product,\n    reviews: reviewsPromise,\n  });\n}\n\nexport default function ProductRoute() {\n  const { product, reviews } =\n    useLoaderData<typeof loader>();\n  return (\n    <>\n      <ProductPage product={product} />\n\n      <Suspense fallback={<ReviewsSkeleton />}>\n        <Await resolve={reviews}>\n          {(reviews) => <Reviews reviews={reviews} />}\n        </Await>\n      </Suspense>\n    </>\n  );\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u521b\u5efa\u9aa8\u67b6\u5360\u4f4d\u7b26\u65f6\uff0c\u8bf7\u8003\u8651\u4ee5\u4e0b\u539f\u5219\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u4e00\u81f4\u7684\u5c3a\u5bf8"}),"\uff1a\u786e\u4fdd\u9aa8\u67b6\u5360\u4f4d\u7b26\u4e0e\u5b9e\u9645\u5185\u5bb9\u7684\u5c3a\u5bf8\u76f8\u5339\u914d\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u7a81\u53d1\u7684\u5e03\u5c40\u504f\u79fb\uff0c\u63d0\u4f9b\u66f4\u5e73\u6ed1\u548c\u89c6\u89c9\u4e0a\u66f4\u4e00\u81f4\u7684\u52a0\u8f7d\u4f53\u9a8c\u3002\u5728\u7f51\u9875\u6027\u80fd\u65b9\u9762\uff0c\u8fd9\u79cd\u6743\u8861\u6700\u5c0f\u5316\u4e86 ",(0,t.jsx)(e.a,{href:"https://web.dev/cls",children:"\u7d2f\u79ef\u5e03\u5c40\u504f\u79fb"})," (CLS)\uff0c\u4ee5\u6539\u5584 ",(0,t.jsx)(e.a,{href:"https://web.dev/fcp",children:"\u9996\u6b21\u5185\u5bb9\u7ed8\u5236"})," (FCP)\u3002\u901a\u8fc7\u5728\u5360\u4f4d\u7b26\u4e2d\u4f7f\u7528\u51c6\u786e\u7684\u5c3a\u5bf8\uff0c\u53ef\u4ee5\u6700\u5c0f\u5316\u8fd9\u79cd\u6743\u8861\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5173\u952e\u6570\u636e"}),"\uff1a\u907f\u514d\u5bf9\u91cd\u8981\u4fe1\u606f\uff08\u9875\u9762\u7684\u4e3b\u8981\u5185\u5bb9\uff09\u4f7f\u7528\u5360\u4f4d\u7b26\u3002\u8fd9\u5bf9 SEO \u548c\u5143\u6807\u7b7e\u5c24\u5176\u91cd\u8981\u3002\u5982\u679c\u5ef6\u8fdf\u663e\u793a\u5173\u952e\u6570\u636e\uff0c\u5c31\u65e0\u6cd5\u63d0\u4f9b\u51c6\u786e\u7684\u5143\u6807\u7b7e\uff0c\u641c\u7d22\u5f15\u64ce\u5c06\u65e0\u6cd5\u6b63\u786e\u7d22\u5f15\u60a8\u7684\u9875\u9762\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u5e94\u7528\u7a0b\u5e8f\u822c\u7684\u611f\u89c9"}),"\uff1a\u5bf9\u4e8e\u6ca1\u6709 SEO \u95ee\u9898\u7684 web \u5e94\u7528\u7a0b\u5e8f UI\uff0c\u5e7f\u6cdb\u4f7f\u7528\u9aa8\u67b6\u5360\u4f4d\u7b26\u53ef\u80fd\u662f\u6709\u76ca\u7684\u3002\u8fd9\u521b\u5efa\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u72ec\u7acb\u5e94\u7528\u7a0b\u5e8f\u884c\u4e3a\u7684\u754c\u9762\u3002\u5f53\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u65f6\uff0c\u4ed6\u4eec\u4f1a\u7acb\u5373\u8fc7\u6e21\u5230\u9aa8\u67b6\u5360\u4f4d\u7b26\u3002"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\u94fe\u63a5\u9884\u53d6"}),"\uff1a\u4f7f\u7528 ",(0,t.jsx)(e.a,{href:"../components/link#prefetch",children:(0,t.jsx)(e.code,{children:'<Link prefetch="intent">'})})," \u53ef\u4ee5\u5e38\u5e38\u5b8c\u5168\u8df3\u8fc7\u5360\u4f4d\u7b26\u3002\u5f53\u7528\u6237\u60ac\u505c\u6216\u805a\u7126\u4e8e\u94fe\u63a5\u65f6\uff0c\u6b64\u65b9\u6cd5\u4f1a\u9884\u52a0\u8f7d\u6240\u9700\u7684\u6570\u636e\uff0c\u5141\u8bb8\u7f51\u7edc\u5728\u7528\u6237\u70b9\u51fb\u4e4b\u524d\u5feb\u901f\u83b7\u53d6\u5185\u5bb9\u3002\u8fd9\u901a\u5e38\u4f1a\u5bfc\u81f4\u7acb\u5373\u5bfc\u822a\u5230\u4e0b\u4e00\u9875\u3002"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba"}),"\n",(0,t.jsx)(e.p,{children:"\u901a\u8fc7\u5fd9\u788c\u6307\u793a\u5668\u3001\u4e50\u89c2 UI \u548c\u9aa8\u67b6\u56de\u9000\u521b\u5efa\u7f51\u7edc\u611f\u77e5 UI \u663e\u8457\u6539\u5584\u4e86\u7528\u6237\u4f53\u9a8c\uff0c\u901a\u8fc7\u5728\u9700\u8981\u7f51\u7edc\u4ea4\u4e92\u7684\u64cd\u4f5c\u671f\u95f4\u663e\u793a\u89c6\u89c9\u63d0\u793a\u3002\u638c\u63e1\u8fd9\u4e00\u70b9\u662f\u6784\u5efa\u7528\u6237\u4fe1\u4efb\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u4f73\u65b9\u5f0f\u3002"})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>c,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function c(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);